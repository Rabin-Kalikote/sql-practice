{"backend_state":"running","connection_file":"/tmp/xdg-runtime-user/jupyter/kernel-5f0b6a1e-b2f5-445f-b1ab-eddb82e86f55.json","kernel":"python3","kernel_error":"","kernel_state":"idle","kernel_usage":{"cpu":0,"memory":0},"last_ipynb_save":1710735555735,"metadata":{"nbgrader":{"__altered":false,"__hash":1025205524,"_root":{"entries":[["size",1],["_root",{"entries":[["cocalc_minimal_stubs",true]],"ownerID":{}}],["__hash",912286151],["__altered",false],["cocalc_minimal_stubs",true]],"ownerID":{}},"cocalc_minimal_stubs":true,"size":5}},"trust":true,"type":"settings"}
{"cell_type":"code","end":1710734678180,"exec_count":3,"id":"1d43c2","input":"# Test for part 1\nfrom nose.tools import assert_equal, assert_in\nfrom csc270tools import get_table, get_script\n\n# Running the code in act10Chinook.sql to get the table and your code for this part\ntable, header  = get_table( 'act10Chinook.sql', 'Chinook.db', 0, header=True)\nscript = get_script('act10Chinook.sql', 0).upper()\n\n# Checking that a Window Function is used\nassert_in('PARTITION BY',script, 'checking for a window function')\n\n# Partially checking your solution\nassert_equal(header, ['Album Title', 'Track Name', 'Track Length', 'Album Average Track Length'], 'Checking the column names')\nassert_equal(('In Your Honor [Disc 1]', 'Hell', 117080, 240929.5), table[0], 'Checking the first row')\nassert_equal(('The Colour And The Shape', 'New Way Home', 342230, 216560.76923076922), table[-1], 'Checking the last row')\nassert_equal(len(table), 44, 'Checking the number of rows')\n\n# There are hidden tests that will completely check your solution","kernel":"python3","metadata":{"deletable":false,"editable":false,"nbgrader":{"grade":true,"grade_id":"1d43c2","locked":true,"points":4,"schema_version":3,"solution":false,"task":false}},"no_halt":true,"pos":2,"start":1710734678094,"state":"done","type":"cell"}
{"cell_type":"code","end":1710734678189,"exec_count":4,"id":"4131eb","input":"# Test for part 2\nfrom nose.tools import assert_equal, assert_in, assert_not_in\nfrom csc270tools import get_table, get_script\n\n# Running the code in act10Chinook.sql to get the table and your code for this part\ntable, header  = get_table( 'act10Chinook.sql', 'Chinook.db', 1, header=True)\nscript = get_script('act10Chinook.sql', 1).upper()\n\n# Checking that a CTE is used instead of a Window Function\nassert_not_in('PARTITION BY', script, 'checking for a window function')\nassert_in('WITH', script, 'checking for a CTE')\n\n# Partially checking your solution\nassert_equal(header, ['Album Title', 'Track Name', 'Track Length', 'Album Average Track Length'], 'Checking the column names')\nassert_equal(('In Your Honor [Disc 1]', 'Hell', 117080, 240929.5), table[0], 'Checking the first row')\nassert_equal(('The Colour And The Shape', 'New Way Home', 342230, 216560.76923076922), table[-1], 'Checking the last row')\nassert_equal(len(table), 44, 'Checking the number of rows')\n\n# There are hidden tests that will completely check your solution","kernel":"python3","metadata":{"deletable":false,"editable":false,"nbgrader":{"grade":true,"grade_id":"4131eb","locked":true,"points":4,"schema_version":3,"solution":false,"task":false}},"no_halt":true,"pos":3,"start":1710734678185,"state":"done","type":"cell"}
{"cell_type":"code","end":1710734678201,"exec_count":5,"id":"d9f7ed","input":"# Test for part 3\nfrom nose.tools import assert_equal\nfrom csc270tools import get_table\n\n# Running the code in act10Chinook.sql to get the table and your code for this part\ntable, header  = get_table( 'act10Chinook.sql', 'Chinook.db', 2, header=True)\n\n# Partially checking your solution\nassert_equal(header, ['Album Title', 'Track Name', 'Track Length', 'Album Average Track Length', 'Album Min Track Length', 'Album Max Track Length'], 'Checking the column names')\nassert_equal(('In Your Honor [Disc 1]', 'Hell', 117080, 240929.5, 117080, 352078), table[0], 'Checking the first row')\nassert_equal(('The Colour And The Shape', 'New Way Home', 342230, 216560.76923076922, 83487, 342230), table[-1], 'Checking the last row')\nassert_equal(len(table), 44, 'Checking the number of rows')\n\n# There are hidden tests that will completely check your solution","kernel":"python3","metadata":{"deletable":false,"editable":false,"nbgrader":{"grade":true,"grade_id":"d9f7ed","locked":true,"points":2,"schema_version":3,"solution":false,"task":false}},"no_halt":true,"pos":4,"start":1710734678196,"state":"done","type":"cell"}
{"cell_type":"code","end":1710734678280,"exec_count":6,"id":"043f95","input":"# Test for part 1\nimport sqlite3\nfrom nose.tools import assert_equal, assert_in\n\n# Setting up sqlite3 for unit tests\ncon = sqlite3.connect('USA.db')\ncur = con.cursor()\n\n# Checking that the new view exists with the correct name\nviews = [t[0] for t in cur.execute(\"SELECT tbl_name FROM sqlite_master WHERE type = 'view';\").fetchall()]\nassert_in('President', views, 'Checking for the new view')\n\n# Checking the column names\nview = cur.execute(\"SELECT * FROM President;\").fetchall()\ncolumns = [c[0] for c in cur.description]\nassert_equal(columns, ['politician_id', 'firstname', 'middlename', 'lastname', 'start_date', 'end_date'], 'Checking the column names')\n\n# Checking some rows of the View\nassert_equal((1, 'George', None, 'Washington', '1789-04-30', '1797-03-04'), view[0], 'Checking the first row')\nassert_equal((6, 'John', 'Quincy', 'Adams', '1825-03-04', '1829-03-04'), view[5], 'Checking another row')\n\n# There are hidden tests that will completely check your solution","kernel":"python3","metadata":{"deletable":false,"editable":false,"nbgrader":{"grade":true,"grade_id":"043f95","locked":true,"points":4,"schema_version":3,"solution":false,"task":false}},"no_halt":true,"pos":6,"start":1710734678214,"state":"done","type":"cell"}
{"cell_type":"code","end":1710734678288,"exec_count":7,"id":"9ff22f","input":"# Test for part 2\nimport sqlite3\nfrom nose.tools import assert_equal\n\n# Setting up sqlite3 for unit tests\ncon = sqlite3.connect('USA.db')\ncur = con.cursor()\n\n# Checking for Obama\ntable = cur.execute(\"\"\"\n    SELECT firstname, middlename, lastname, suffix, birthdate, \n           city_of_birth, state_of_birth, country_of_birth\n    FROM Politician\n    WHERE lastname = 'Obama';\n    \"\"\").fetchall()\n\nview  = cur.execute(\"\"\"\n    SELECT firstname, middlename, lastname, start_date, end_date \n    FROM President\n    WHERE lastname = 'Obama';\n    \"\"\").fetchall()\n\nassert_equal(table, \n             [('Barack', 'Hussein', 'Obama', 'II', '1961-08-04', \n               'Honolulu', 'Hawaii', 'United States')], \n             'Checking the Politician Table')\nassert_equal(view, \n             [('Barack', 'Hussein', 'Obama', '2009-01-20', '2017-01-20')], \n             'Checking the President View')","kernel":"python3","metadata":{"deletable":false,"editable":false,"nbgrader":{"grade":true,"grade_id":"9ff22f","locked":true,"points":2,"schema_version":3,"solution":false,"task":false}},"no_halt":true,"pos":7,"start":1710734678284,"state":"done","type":"cell"}
{"cell_type":"code","end":1710734678295,"exec_count":8,"id":"ea4e29","input":"# Test for part 3\nimport sqlite3\nfrom nose.tools import assert_equal, assert_in\n\n# Setting up sqlite3 for unit tests\ncon = sqlite3.connect('USA.db')\ncur = con.cursor()\n\n# Checking that the new view exists with the correct name\nviews = [t[0] for t in cur.execute(\"SELECT tbl_name FROM sqlite_master WHERE type = 'view';\").fetchall()]\nassert_in('DiedInOffice', views, 'Checking for the new view')\n\n# Checking the column names\nview = cur.execute(\"SELECT * FROM DiedInOffice;\").fetchall()\ncolumns = [c[0] for c in cur.description]\nassert_equal(columns, ['firstname', 'lastname', 'office', 'deathdate'], 'Checking the column names')\n\n# Checking some rows of the View\nassert_equal(('George', 'Clinton', 'Vice President', '1812-04-20'), view[0], 'Checking the first row')\nassert_in(('Abraham', 'Lincoln', 'President', '1865-04-15'), view, 'Checking another row')\n\n# There are hidden tests that will completely check your solution","kernel":"python3","metadata":{"deletable":false,"editable":false,"nbgrader":{"grade":true,"grade_id":"ea4e29","locked":true,"points":3,"schema_version":3,"solution":false,"task":false}},"no_halt":true,"pos":8,"start":1710734678292,"state":"done","type":"cell"}
{"cell_type":"code","end":1710734684622,"exec_count":10,"id":"29abbf","input":"# Test for part 4\nimport sqlite3\nfrom nose.tools import assert_equal, assert_in\n\n# Setting up sqlite3 for unit tests\ncon = sqlite3.connect('USA.db')\ncur = con.cursor()\n\n# Checking that the new view exists with the correct name\nviews = [t[0] for t in cur.execute(\"SELECT tbl_name FROM sqlite_master WHERE type = 'view';\").fetchall()]\nassert_in('VicePresident', views, 'Checking for the new view')\n\n# Checking the column names\nview = cur.execute(\"SELECT * FROM VicePresident;\").fetchall()\ncolumns = [c[0] for c in cur.description]\nassert_equal(columns, ['vice_president', 'president', 'start_date', 'end_date'], 'Checking the column names')\n\n# Checking some rows of the View\nassert_equal(('John Adams', 'George Washington', '1789-04-30', '1797-03-04'), view[0], 'Checking the first row')\nassert_equal(('Thomas Jefferson', 'John Adams', '1797-03-04', '1801-03-04'), view[1], 'Checking the second row')\nassert_equal(('Aaron Burr', 'Thomas Jefferson', '1801-03-04', '1805-03-04'), view[2], 'Checking the third row')\nassert_equal(('George Clinton', 'Thomas Jefferson', '1805-03-04', '1809-03-04'), view[3], 'Checking the fourth row')\nassert_equal(('George Clinton', 'James Madison', '1809-03-04', '1812-04-20'), view[4], 'Checking the fifth row')\nassert_equal(('John Tyler', 'William Harrison', '1841-03-04', '1841-04-04'), view[11], 'Checking the twelfth row')\nassert_in(('Andrew Johnson', 'Abraham Lincoln', '1865-03-04', '1865-04-15'), view, 'Checking another row')\n\n# There are hidden tests that will completely check your solution","kernel":"python3","metadata":{"deletable":false,"editable":false,"nbgrader":{"grade":true,"grade_id":"29abbf","locked":true,"points":5,"schema_version":3,"solution":false,"task":false}},"pos":9,"start":1710734684619,"state":"done","type":"cell"}
{"cell_type":"markdown","id":"0d29ed","input":"## Tests: USA.db","metadata":{"deletable":false,"editable":false,"nbgrader":{"grade":false,"grade_id":"0d29ed","locked":true,"schema_version":3,"solution":false,"task":false}},"pos":5,"state":"done","type":"cell"}
{"cell_type":"markdown","id":"2818b1","input":"# Tests for Activity 10","metadata":{"deletable":false,"editable":false,"nbgrader":{"grade":false,"grade_id":"2818b1","locked":true,"schema_version":3,"solution":false,"task":false}},"pos":0,"state":"done","type":"cell"}
{"cell_type":"markdown","id":"7d6f7e","input":"## Tests: Chinook","metadata":{"deletable":false,"editable":false,"nbgrader":{"grade":false,"grade_id":"7d6f7e","locked":true,"schema_version":3,"solution":false,"task":false}},"pos":1,"state":"done","type":"cell"}
{"id":"b9a3fc","input":"","pos":10,"type":"cell"}
{"id":0,"time":1710726866420,"type":"user"}
{"last_load":1710432293496,"type":"file"}